ALTER USER broker  WITH SUPERUSER;

CREATE TABLE tickers(
   ID SERIAL PRIMARY KEY     NOT NULL,
   MARKET TEXT    NOT NULL,
   DATE TIMESTAMP NOT NULL,
   BID DOUBLE PRECISION,
   ASK DOUBLE PRECISION,
   LAST DOUBLE PRECISION
);

CREATE TABLE orderbook(
   ID SERIAL PRIMARY KEY     NOT NULL,
   MARKET TEXT    NOT NULL,
   DATE TIMESTAMP NOT NULL,
   TYPE TEXT ,
   QUANTITY DOUBLE PRECISION,
   RATE DOUBLE PRECISION
);

CREATE TABLE orderhistory(
   ID INT PRIMARY KEY     NOT NULL,
   MARKET TEXT    NOT NULL,
   DATE TIMESTAMP NOT NULL,
   TYPE TEXT ,
   QUANTITY DOUBLE PRECISION,
   PRICE DOUBLE PRECISION,
   TOTAL DOUBLE PRECISION,
   FILLTYPE TEXT,
   ORDERTYPE TEXT
);


CREATE TABLE marketsummaries(
   ID SERIAL PRIMARY KEY     NOT NULL,
   MARKET TEXT    NOT NULL,
   DATE TIMESTAMP NOT NULL,
   TYPE TEXT ,
   HIGH DOUBLE PRECISION,
   LOW DOUBLE PRECISION,
   VOLUME DOUBLE PRECISION,
   LAST DOUBLE PRECISION,
   BASEVOLUME DOUBLE PRECISION,
   BID DOUBLE PRECISION,
   ASK DOUBLE PRECISION,
   OPENBUYORDERS INT,
   OPENSELLORDERS INT,
   PREVDAY DOUBLE PRECISION,
   CREATED TIMESTAMP
);
